/**
 * OTP Core Script Handler
 * 
 * Serves the bundled OtpLoginCore script for browser use
 * Similar to decrypt-script.js but for OTP authentication
 */

// Import the bundled script (embedded at build time)
// This is generated by scripts/bundle-otp-core.js
import { BUNDLED_OTP_CORE_SCRIPT } from '../dist/otp-core-script.js';

/**
 * Serve bundled OTP core script
 * GET /otp-core.js
 */
export async function handleOtpCoreScript() {
  return new Response(BUNDLED_OTP_CORE_SCRIPT, {
    headers: {
      'Content-Type': 'application/javascript; charset=utf-8',
      'Cache-Control': 'public, max-age=3600',
    },
  });
}


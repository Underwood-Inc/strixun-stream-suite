name = "strixun-chat-signaling"
main = "worker.js"
compatibility_date = "2025-12-23"

[env.production]
vars = { ENVIRONMENT = "production" }

[env.development]
vars = { ENVIRONMENT = "development" }

[[kv_namespaces]]
binding = "CHAT_KV"
id = "78a1bd4cd5dc468780de442aacc9d1ee"
preview_id = "78a1bd4cd5dc468780de442aacc9d1ee"

# Note: Create KV namespace with:
# wrangler kv namespace create "CHAT_KV"
# Then update the IDs above

# Custom domain configuration
# Using idling.app domain
routes = [
  { pattern = "chat.idling.app/*", zone_name = "idling.app" }
]

# Alternative: Configure in Cloudflare Dashboard (recommended for production):
# 1. Go to Cloudflare Dashboard → Workers & Pages → strixun-chat-signaling
# 2. Go to Settings → Triggers → Routes
# 3. Add custom domain route: chat.idling.app/*
# 4. DNS records are automatically managed by Cloudflare
#
# Note: Routes configured in the dashboard take precedence over wrangler.toml


/**
 * Strixun Stream Suite - SCSS Mixins
 * 
 * Reusable style patterns
 * Framework-agnostic SCSS library
 */

@use 'sass:color';
@use 'variables' as *;
@use 'animations' as *;

// ============ Glass Effect (Retro - No Blur) ============
@mixin glass-effect($opacity: 0.95) {
  background: rgba(37, 32, 23, $opacity);
  border: 1px solid rgba(61, 54, 39, 0.8);
  // Removed backdrop-filter for performance - retro style doesn't need it
}

// ============ Card ============
@mixin card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

// ============ Button ============
@mixin button($variant: 'primary') {
  @if $variant == 'primary' {
    @include arcade-button(var(--accent), var(--accent-dark));
  } @else if $variant == 'secondary' {
    @include arcade-button(var(--border), var(--border-light));
    color: var(--text);
  } @else if $variant == 'danger' {
    @include arcade-button(var(--danger), color.scale(color('danger'), $lightness: -20%));
    color: #fff;
  } @else if $variant == 'link' {
    background: transparent;
    color: var(--accent);
    padding: 4px 8px;
    border: none;
    border-radius: 0;
    cursor: pointer;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.2s ease;
    
    &:hover {
      background: rgba(237, 174, 73, 0.1);
      color: var(--accent-light);
      text-decoration: none;
    }
    
    &:active {
      background: rgba(237, 174, 73, 0.2);
    }
    
    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  } @else if $variant == 'icon' {
    background: transparent;
    border: 2px solid var(--border);
    color: var(--text);
    padding: 8px 10px;
    border-radius: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 2px 0 var(--border);
    position: relative;
    overflow: hidden;
    
    @include ripple-effect(rgba(255, 255, 255, 0.2));
    
    &:hover {
      background: var(--border);
      color: var(--text);
      transform: translateY(-1px);
      box-shadow: 0 3px 0 var(--border);
    }
    
    &:active {
      transform: translateY(1px);
      box-shadow: 0 1px 0 var(--border);
    }
    
    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
      box-shadow: 0 2px 0 var(--border);
    }
  } @else {
    // Default arcade style
    @include arcade-button(var(--accent), var(--accent-dark));
  }
}

// ============ Input ============
@mixin input {
  padding: 8px 12px;
  background: var(--bg-dark);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: var(--text);
  font-size: 14px;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
  
  &:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px rgba(237, 174, 73, 0.2);
  }
  
  &::placeholder {
    color: var(--muted);
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
}

// ============ Scrollbar ============
@mixin scrollbar($width: 8px) {
  &::-webkit-scrollbar {
    width: $width;
    height: $width;
  }
  
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  
  &::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 3px;
    
    &:hover {
      background: var(--muted);
    }
  }
  
  &::-webkit-scrollbar-corner {
    background: transparent;
  }
  
  // Firefox scrollbar
  scrollbar-width: thin;
  scrollbar-color: var(--border) transparent;
}

// ============ Flexbox Utilities ============
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

// ============ Grid Utilities ============
@mixin grid-auto($min-width: 200px, $gap: 12px) {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax($min-width, 1fr));
  gap: $gap;
}

// ============ Text Utilities ============
@mixin text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@mixin text-truncate($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// ============ Animations ============
@mixin fade-in($duration: 0.3s) {
  animation: fade-in $duration ease-in;
}

@mixin slide-in($direction: 'up', $duration: 0.3s) {
  @if $direction == 'up' {
    animation: slide-up $duration ease-out;
  } @else if $direction == 'down' {
    animation: slide-down $duration ease-out;
  }
}

// ============ WIP (Work In Progress) State ============
// Styled to match warning toast with striped background
@mixin wip-state {
  position: relative;
  opacity: 0.7;
  cursor: not-allowed;
  pointer-events: none;
  border-color: #ff8c00;
  border-width: 2px;
  background: var(--card);
  background-image: repeating-linear-gradient(
    135deg,
    rgba(255, 140, 0, 0.1),
    rgba(255, 140, 0, 0.1) 4px,
    rgba(255, 140, 0, 0.15) 4px,
    rgba(255, 140, 0, 0.15) 8px
  );
  
  &:hover {
    opacity: 0.7;
    transform: none;
    background-image: repeating-linear-gradient(
      135deg,
      rgba(255, 140, 0, 0.1),
      rgba(255, 140, 0, 0.1) 4px,
      rgba(255, 140, 0, 0.15) 4px,
      rgba(255, 140, 0, 0.15) 8px
    );
  }
  
  &:active {
    transform: none;
  }
}

// WIP utility class for buttons and interactive elements
.wip {
  @include wip-state;
}

// ============ IN TESTING State ============
// Styled with info/blue color and unique diagonal pattern (opposite direction from warning)
// NOT disabled - still functional, just indicates testing status
@mixin in-testing-state {
  position: relative;
  border-color: var(--info);
  border-width: 2px;
  background: var(--card);
  background-image: repeating-linear-gradient(
    45deg,
    rgba(100, 149, 237, 0.08),
    rgba(100, 149, 237, 0.08) 6px,
    rgba(100, 149, 237, 0.12) 6px,
    rgba(100, 149, 237, 0.12) 12px
  );
  
  &:hover {
    border-color: var(--info);
    background-image: repeating-linear-gradient(
      45deg,
      rgba(100, 149, 237, 0.12),
      rgba(100, 149, 237, 0.12) 6px,
      rgba(100, 149, 237, 0.16) 6px,
      rgba(100, 149, 237, 0.16) 12px
    );
  }
}

// IN TESTING utility class for buttons and interactive elements
.in-testing {
  @include in-testing-state;
}

// ============ SUPER ADMIN State ============
// Restricted feature - requires super admin privileges
// Styled with warning/orange color to indicate restricted access
@mixin super-admin-state {
  position: relative;
  border-color: var(--warning);
  border-width: 2px;
  background: var(--card);
  background-image: repeating-linear-gradient(
    135deg,
    rgba(255, 193, 7, 0.08),
    rgba(255, 193, 7, 0.08) 6px,
    rgba(255, 193, 7, 0.12) 6px,
    rgba(255, 193, 7, 0.12) 12px
  );
  
  &:hover:not(:disabled) {
    border-color: var(--warning);
    background-image: repeating-linear-gradient(
      135deg,
      rgba(255, 193, 7, 0.12),
      rgba(255, 193, 7, 0.12) 6px,
      rgba(255, 193, 7, 0.16) 6px,
      rgba(255, 193, 7, 0.16) 12px
    );
  }
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
    // Preserve styling even when disabled
    border-color: var(--warning) !important;
    background-image: repeating-linear-gradient(
      135deg,
      rgba(255, 193, 7, 0.08),
      rgba(255, 193, 7, 0.08) 6px,
      rgba(255, 193, 7, 0.12) 6px,
      rgba(255, 193, 7, 0.12) 12px
    ) !important;
    box-shadow: 0 2px 0 var(--warning) !important;
  }
}

// SUPER ADMIN utility class for buttons and interactive elements
.super-admin {
  @include super-admin-state;
}

// ============ BETA State ============
// Functional but may have bugs or incomplete features
@mixin beta-state {
  position: relative;
  border-color: #9b59b6;
  border-width: 2px;
  background: var(--card);
  background-image: repeating-linear-gradient(
    90deg,
    rgba(155, 89, 182, 0.08),
    rgba(155, 89, 182, 0.08) 8px,
    rgba(155, 89, 182, 0.12) 8px,
    rgba(155, 89, 182, 0.12) 16px
  );
  
  &:hover {
    border-color: #9b59b6;
    background-image: repeating-linear-gradient(
      90deg,
      rgba(155, 89, 182, 0.12),
      rgba(155, 89, 182, 0.12) 8px,
      rgba(155, 89, 182, 0.16) 8px,
      rgba(155, 89, 182, 0.16) 16px
    );
  }
}

// BETA utility class
.beta {
  @include beta-state;
}

// ============ ALPHA State ============
// Early development, unstable, use with caution
@mixin alpha-state {
  position: relative;
  border-color: #e74c3c;
  border-width: 2px;
  background: var(--card);
  background-image: 
    repeating-linear-gradient(
      45deg,
      rgba(231, 76, 60, 0.08),
      rgba(231, 76, 60, 0.08) 6px,
      rgba(231, 76, 60, 0.12) 6px,
      rgba(231, 76, 60, 0.12) 12px
    ),
    repeating-linear-gradient(
      -45deg,
      rgba(231, 76, 60, 0.08),
      rgba(231, 76, 60, 0.08) 6px,
      rgba(231, 76, 60, 0.12) 6px,
      rgba(231, 76, 60, 0.12) 12px
    );
  
  &:hover {
    border-color: #e74c3c;
    background-image: 
      repeating-linear-gradient(
        45deg,
        rgba(231, 76, 60, 0.12),
        rgba(231, 76, 60, 0.12) 6px,
        rgba(231, 76, 60, 0.16) 6px,
        rgba(231, 76, 60, 0.16) 12px
      ),
      repeating-linear-gradient(
        -45deg,
        rgba(231, 76, 60, 0.12),
        rgba(231, 76, 60, 0.12) 6px,
        rgba(231, 76, 60, 0.16) 6px,
        rgba(231, 76, 60, 0.16) 12px
      );
  }
}

// ALPHA utility class
.alpha {
  @include alpha-state;
}

// ============ EXPERIMENTAL State ============
// New/unstable feature, may change or be removed
@mixin experimental-state {
  position: relative;
  border-color: #f39c12;
  border-width: 2px;
  background: var(--card);
  background-image: repeating-linear-gradient(
    0deg,
    rgba(243, 156, 18, 0.08),
    rgba(243, 156, 18, 0.08) 4px,
    rgba(243, 156, 18, 0.12) 4px,
    rgba(243, 156, 18, 0.12) 8px,
    rgba(243, 156, 18, 0.08) 8px,
    rgba(243, 156, 18, 0.08) 12px
  );
  
  &:hover {
    border-color: #f39c12;
    background-image: repeating-linear-gradient(
      0deg,
      rgba(243, 156, 18, 0.12),
      rgba(243, 156, 18, 0.12) 4px,
      rgba(243, 156, 18, 0.16) 4px,
      rgba(243, 156, 18, 0.16) 8px,
      rgba(243, 156, 18, 0.12) 8px,
      rgba(243, 156, 18, 0.12) 12px
    );
  }
}

// EXPERIMENTAL utility class
.experimental {
  @include experimental-state;
}

// ============ DEPRECATED State ============
// Being phased out, avoid using
@mixin deprecated-state {
  position: relative;
  opacity: 0.6;
  border-color: var(--muted);
  border-width: 2px;
  border-style: dashed;
  background: var(--card);
  background-image: repeating-linear-gradient(
    135deg,
    rgba(128, 128, 128, 0.05),
    rgba(128, 128, 128, 0.05) 8px,
    rgba(128, 128, 128, 0.1) 8px,
    rgba(128, 128, 128, 0.1) 16px
  );
  
  &:hover {
    opacity: 0.7;
    border-color: var(--muted);
  }
}

// DEPRECATED utility class
.deprecated {
  @include deprecated-state;
}

// ============ COMING SOON State ============
// Planned feature, not yet available
@mixin coming-soon-state {
  position: relative;
  opacity: 0.8;
  cursor: not-allowed;
  pointer-events: none;
  border-color: #1abc9c;
  border-width: 2px;
  background: var(--card);
  background-image: repeating-linear-gradient(
    0deg,
    rgba(26, 188, 156, 0.08),
    rgba(26, 188, 156, 0.08) 6px,
    rgba(26, 188, 156, 0.12) 6px,
    rgba(26, 188, 156, 0.12) 12px
  );
  
  &:hover {
    opacity: 0.8;
    transform: none;
  }
  
  &:active {
    transform: none;
  }
}

// COMING SOON utility class
.coming-soon {
  @include coming-soon-state;
}

// ============ Card ============
// Base card styling - consistent across all apps
@mixin card($variant: 'default') {
  background: var(--card, var(--bg-secondary));
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  transition: all 0.2s ease;
  
  @if $variant == 'hover' {
    &:hover {
      border-color: var(--accent);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
  }
}

// ============ Status Badge/Flair ============
// Status badges for mods, users, etc.
@mixin status-badge($type: 'default') {
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  text-transform: capitalize;
  
  @if $type == 'success' {
    background: var(--success)20;
    color: var(--success);
  } @else if $type == 'warning' {
    background: var(--warning)20;
    color: var(--warning);
  } @else if $type == 'danger' {
    background: var(--danger)20;
    color: var(--danger);
  } @else if $type == 'info' {
    background: var(--info)20;
    color: var(--info);
  } @else if $type == 'accent' {
    background: var(--accent)20;
    color: var(--accent);
  } @else {
    // Default - muted
    background: var(--bg-tertiary);
    color: var(--text-secondary);
  }
}

// Verified badge (green with checkmark)
@mixin verified-badge {
  @include status-badge('success');
  
  &::before {
    content: 'âœ“';
    font-weight: 700;
  }
}

// Strixun badge (grey/muted)
@mixin strixun-badge {
  @include status-badge('default');
  background: var(--bg-tertiary);
  color: var(--text-secondary);
}

// ============ Tooltip ============
// Tooltip base styles (component handles positioning, but styles are here)
@mixin tooltip {
  position: absolute;
  z-index: 1000;
  padding: 8px 12px;
  background: var(--bg-dark, rgba(15, 14, 11, 0.95));
  color: var(--text);
  border: 1px solid var(--border);
  border-radius: 4px;
  font-size: 0.875rem;
  line-height: 1.4;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
  pointer-events: none;
  white-space: nowrap;
  max-width: 300px;
  
  // Arrow (component should add this element)
  &::before {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border-style: solid;
  }
}

// Tooltip arrow positions
@mixin tooltip-arrow($position: 'top') {
  @if $position == 'top' {
    &::before {
      bottom: -6px;
      left: 50%;
      transform: translateX(-50%);
      border-width: 6px 6px 0 6px;
      border-color: var(--border) transparent transparent transparent;
    }
  } @else if $position == 'bottom' {
    &::before {
      top: -6px;
      left: 50%;
      transform: translateX(-50%);
      border-width: 0 6px 6px 6px;
      border-color: transparent transparent var(--border) transparent;
    }
  } @else if $position == 'left' {
    &::before {
      right: -6px;
      top: 50%;
      transform: translateY(-50%);
      border-width: 6px 0 6px 6px;
      border-color: transparent transparent transparent var(--border);
    }
  } @else if $position == 'right' {
    &::before {
      left: -6px;
      top: 50%;
      transform: translateY(-50%);
      border-width: 6px 6px 6px 0;
      border-color: transparent var(--border) transparent transparent;
    }
  }
}

// ============ Copy Button ============
// Small secondary button for copy actions
@mixin copy-button {
  padding: 4px 8px;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 4px;
  color: var(--text);
  font-size: 0.75rem;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    background: var(--bg-tertiary);
    border-color: var(--accent);
  }
  
  &:active {
    transform: scale(0.98);
  }
}

// ============ Click Effect (Ripple) ============
// Cursor-position click ripple effect for interactive elements
// Usage: @include click-effect;
// Optional: @include click-effect(rgba(255, 255, 255, 0.3), 100px); // color, size
// Note: Requires JavaScript to set --ripple-x and --ripple-y CSS variables at click position
@mixin click-effect($color: rgba(255, 255, 255, 0.3), $size: 100px) {
  cursor: pointer;
  position: relative;
  overflow: hidden;
  user-select: none;
  
  &::after {
    content: '';
    position: absolute;
    width: $size;
    height: $size;
    border-radius: 50%;
    background: $color;
    transform: scale(0);
    opacity: 0;
    pointer-events: none;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    left: var(--ripple-x, 50%);
    top: var(--ripple-y, 50%);
    margin-left: calc(-#{$size} / 2);
    margin-top: calc(-#{$size} / 2);
  }
  
  &:active::after {
    transform: scale(4);
    opacity: 1;
    transition: transform 0s, opacity 0s;
  }
  
  // Prevent text selection during click
  &:active {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
}

// ============ Candy Shop Slanted Bar Animation ============
// Classic retro candy shop moving slanted bar effect
// Creates diagonal stripes that move continuously across the element
// Usage: @include candy-shop-bars;
// Optional: @include candy-shop-bars(45deg, 20px, rgba(255, 255, 255, 0.3), 2s);
// Parameters:
//   $angle: Angle of the stripes (default: 45deg for diagonal)
//   $stripe-width: Width of each stripe (default: 20px)
//   $stripe-color: Color of the stripes (default: rgba(255, 255, 255, 0.3))
//   $duration: Animation duration (default: 6s - 3x slower for smooth effect)
@mixin candy-shop-bars(
  $angle: 45deg,
  $stripe-width: 20px,
  $stripe-color: rgba(255, 255, 255, 0.3),
  $duration: 6s
) {
  position: relative;
  overflow: hidden;
  
  // Create the moving slanted bars using a pseudo-element
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 200%;
    height: 200%;
    background: repeating-linear-gradient(
      $angle,
      transparent,
      transparent $stripe-width,
      $stripe-color $stripe-width,
      $stripe-color calc(#{$stripe-width} * 2)
    );
    // Fixed background-size for consistent speed regardless of element width
    // 56.568px = sqrt(40px^2) for 45deg diagonal movement matching stripe pattern
    background-size: 56.568px 56.568px;
    animation: candy-shop-bars $duration linear infinite;
    pointer-events: none;
    z-index: 1;
    mix-blend-mode: overlay;
  }
  
  // Ensure text/content stays above the animation
  > * {
    position: relative;
    z-index: 2;
  }
}

// ============ Quirky Click Interaction ============
// Smooth wobble-pop effect on click - adds personality to interactive elements
// Usage: @include quirky-click;
// Optional: @include quirky-click(0.5s, 8deg, 1.12); // duration, rotation, scale
// Parameters:
//   $duration: Animation duration (default: 0.5s)
//   $rotation: Max rotation angle (default: 8deg)
//   $scale: Max scale multiplier (default: 1.12)
@mixin quirky-click($duration: 0.5s, $rotation: 8deg, $scale: 1.12) {
  cursor: pointer;
  transition: transform 0.1s ease-out;
  
  &:active {
    animation: quirky-wobble-pop $duration cubic-bezier(0.34, 1.56, 0.64, 1);
  }
}

// ============ Digital Game Card 3D Effect ============
// 3D card effect with mouse-based tilt, perspective, hover lift, and dynamic light sheen
// Mimics a physical game card with depth and interactivity
// Requires JavaScript to set --mouse-x and --mouse-y CSS variables (use useMousePosition hook)
// Usage: @include game-card-3d;
// Optional: @include game-card-3d(24px, 28deg, 1.08); // lift, maxRotation, scale
// Parameters:
//   $lift-distance: How much the card lifts on hover (default: 24px)
//   $max-rotation: Max rotation angle based on mouse position (default: 28deg)
//   $scale: Scale multiplier on hover (default: 1.08)
@mixin game-card-3d($lift-distance: 24px, $max-rotation: 28deg, $scale: 1.08) {
  position: relative;
  transform-style: preserve-3d;
  perspective: 1000px;
  --mouse-x: 0;
  --mouse-y: 0;
  transition: transform 0.15s cubic-bezier(0.23, 1, 0.32, 1), 
              box-shadow 0.2s cubic-bezier(0.23, 1, 0.32, 1);
  overflow: hidden;
  
  // Smooth transition out with slight delay to prevent jerky animations
  &:not(:hover) {
    transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1) 0.1s,
                box-shadow 0.3s cubic-bezier(0.23, 1, 0.32, 1) 0.1s;
  }
  
  // Subtle 3D shadow for depth
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15),
              0 1px 3px rgba(0, 0, 0, 0.1);
  
  &:hover {
    transform: translateY(-#{$lift-distance}) 
               translateZ(40px)
               rotateX(var(--rotate-x, 0deg))
               rotateY(var(--rotate-y, 0deg))
               scale($scale);
    // Enhanced drop shadow for lifted effect - more pronounced and spread out
    box-shadow: 0 30px 80px rgba(0, 0, 0, 0.6),
                0 20px 50px rgba(0, 0, 0, 0.5),
                0 10px 30px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.2) inset;
  }
  
  // Dynamic intense glare that follows mouse position
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(
      circle 200px at calc(50% + var(--mouse-x) * 50%) calc(50% + var(--mouse-y) * 50%),
      rgba(255, 255, 255, 0.6) 0%,
      rgba(255, 255, 255, 0.4) 20%,
      rgba(255, 255, 255, 0.2) 40%,
      rgba(255, 255, 255, 0) 60%,
      transparent 100%
    );
    opacity: 0;
    transition: opacity 0.2s ease;
    pointer-events: none;
    border-radius: inherit;
    z-index: 1;
    mix-blend-mode: overlay;
  }
  
  &:hover::before {
    opacity: 1;
  }
  
  // Animated sweeping shimmer glare - more visible
  &::after {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
      45deg,
      transparent 25%,
      rgba(255, 255, 255, 0.6) 40%,
      rgba(255, 255, 255, 1) 50%,
      rgba(255, 255, 255, 0.6) 60%,
      transparent 75%
    );
    opacity: 0;
    pointer-events: none;
    border-radius: inherit;
    z-index: 1;
    animation: shimmer-sweep 2.5s ease-in-out infinite;
    mix-blend-mode: overlay;
    will-change: transform, opacity;
  }
  
  &:hover::after {
    opacity: 0.9;
  }
  
  // Ensure content stays above shine effects
  > * {
    position: relative;
    z-index: 2;
  }
}

// ============ Text Selection ============
// Global text selection styling - Strixun brand orange (#edae49) with pure black text
// Uses #000000 for maximum contrast and legibility on the bright orange highlight
// This mixin ensures consistent text selection across all Strixun apps
// Usage: @include text-selection; in global/body styles
@mixin text-selection {
  ::selection {
    background: var(--accent);
    color: #000000;
  }

  ::-moz-selection {
    background: var(--accent);
    color: #000000;
  }

  ::-webkit-selection {
    background: var(--accent);
    color: #000000;
  }
}

// ============ Text Obfuscation Effect ============
// Minecraft enchantment table style character scrambling effect
// Creates animated scrambled text that appears encrypted/redacted
// Usage: @include text-obfuscate; or @include text-obfuscate(0.5s);
// Parameters:
//   $duration: Animation duration (default: 0.8s)
//   $color: Text color (default: inherit)
@mixin text-obfuscate($duration: 0.8s, $color: inherit) {
  position: relative;
  color: $color;
  font-feature-settings: normal;
  
  // Animated scrambling effect
  animation: text-obfuscate-scramble $duration infinite;
  
  // Use enchantment table character set for scrambling
  // This is handled by JavaScript for actual character replacement
  // But the CSS creates the visual style
  font-weight: 500;
  letter-spacing: 0.05em;
}

// Obfuscation animation - subtle opacity shifting effect
@keyframes text-obfuscate-scramble {
  0%, 100% {
    opacity: 0.9;
  }
  50% {
    opacity: 0.85;
  }
}

// Static obfuscated text (no animation, just styling)
@mixin text-obfuscate-static($color: inherit) {
  color: $color;
  font-feature-settings: normal;
  opacity: 0.9;
}

// Redacted/censored bar effect (alternative to character scrambling)
@mixin text-redacted($color: currentColor) {
  position: relative;
  color: transparent;
  
  &::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 0.6em;
    background: $color;
    transform: translateY(-50%);
    opacity: 0.8;
  }
}
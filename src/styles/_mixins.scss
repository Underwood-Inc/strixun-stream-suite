/**
 * Strixun Stream Suite - SCSS Mixins
 * 
 * Reusable style patterns
 */

@use 'sass:color';
@use 'variables' as *;
@use 'animations' as *;

// ============ Glass Effect (Retro - No Blur) ============
@mixin glass-effect($opacity: 0.95) {
  background: rgba(37, 32, 23, $opacity);
  border: 1px solid rgba(61, 54, 39, 0.8);
  // Removed backdrop-filter for performance - retro style doesn't need it
}

// ============ Card ============
@mixin card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

// ============ Button ============
@mixin button($variant: 'primary') {
  @if $variant == 'primary' {
    @include arcade-button(var(--accent), var(--accent-dark));
  } @else if $variant == 'secondary' {
    @include arcade-button(var(--border), var(--border-light));
    color: var(--text);
  } @else if $variant == 'danger' {
    @include arcade-button(var(--danger), color.scale(color('danger'), $lightness: -20%));
    color: #fff;
  } @else {
    // Default arcade style
    @include arcade-button(var(--accent), var(--accent-dark));
  }
}

// ============ Input ============
@mixin input {
  padding: 8px 12px;
  background: var(--bg-dark);
  border: 1px solid var(--border);
  border-radius: 6px;
  color: var(--text);
  font-size: 14px;
  
  &:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 2px rgba(237, 174, 73, 0.2);
  }
  
  &::placeholder {
    color: var(--muted);
  }
}

// ============ Scrollbar ============
@mixin scrollbar($width: 8px) {
  &::-webkit-scrollbar {
    width: $width;
    height: $width;
  }
  
  &::-webkit-scrollbar-track {
    background: var(--bg-dark);
  }
  
  &::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 4px;
    
    &:hover {
      background: var(--border-light);
    }
  }
}

// ============ Flexbox Utilities ============
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

// ============ Grid Utilities ============
@mixin grid-auto($min-width: 200px, $gap: 12px) {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax($min-width, 1fr));
  gap: $gap;
}

// ============ Text Utilities ============
@mixin text-ellipsis {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@mixin text-truncate($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// ============ Animations ============
@mixin fade-in($duration: 0.3s) {
  animation: fadeIn $duration ease-in;
  
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
}

@mixin slide-in($direction: 'up', $duration: 0.3s) {
  @if $direction == 'up' {
    animation: slideUp $duration ease-out;
  } @else if $direction == 'down' {
    animation: slideDown $duration ease-out;
  }
  
  @keyframes slideUp {
    from {
      transform: translateY(20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
  
  @keyframes slideDown {
    from {
      transform: translateY(-20px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
}

